<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Travels</title>
    <link rel="stylesheet" href="test.css">
</head>
<body>
    <header>
        <h1>KUMAR TRAVELS</h1>
    </header>

    <form id="sheetdb" action="https://sheetdb.io/api/v1/z1ir5g6powleo" method="post">
    <div class="d1">
        <input type="text" name="data[NAME]" id="uname" placeholder="Enter-Name" required><br>

        <input type="text" name="data[MOBILE]" id="umobile" maxlength="10"
               pattern="[0-9]{10}" placeholder="Mobile-Number" required><br>

        <input type="email" name="data[EMAIL]" id="umail" placeholder="Enter-Email" required><br>
        <input type="number" name="data[PERSONS]" id="upersons" placeholder="Num of persons" required><br>
        <input type="date" name="data[DATE]" id="udate" required><br>
        <input id="s1" type="submit" value="SUBMIT">
    </div>
</form>

<!-- Message area -->
<p id="form-message"></p>

<script>
const form = document.getElementById("sheetdb");
const messageEl = document.getElementById("form-message");

form.addEventListener("submit", async (e) => {
    e.preventDefault();

    let mobile = document.getElementById("umobile").value.trim();

    // Clear previous message
    messageEl.textContent = "";
    messageEl.style.color = "";

    // 10-digit mobile validation
    if (!/^[0-9]{10}$/.test(mobile)) {
        messageEl.textContent = "Please enter a valid 10-digit mobile number.";
        messageEl.style.color = "red";
        return;
    }

    try {
        const response = await fetch(form.action, {
            method: 'POST',
            body: new FormData(form)
        });

        const result = await response.json();

        messageEl.textContent = "Submitted Successfully! Thank you " + document.getElementById('uname').value;
        messageEl.style.color = "green";
        form.reset();
    } catch (error) {
        messageEl.textContent = "Something went wrong. Please try again.";
        messageEl.style.color = "red";
        console.error(error);
    }
});
</script>

</body>
</html>







