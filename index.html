<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Travels</title>
    <link rel="stylesheet" href="test.css">
</head>
<body>
    <header>
        <h1>KUMAR TRAVELS</h1>
    </header>

    <form id="sheetdb" action="https://sheetdb.io/api/v1/35pq7lj1vabgq" method="post">
        <div class="d1">
            <input type="text" name="data[NAME]" id="uname" placeholder="Enter-Name" required><br>
            <input type="text" name="data[MOBILE]" id="umobile" placeholder="Mobile-Number" required><br>
            <input type="email" name="data[EMAIL]" id="umail" placeholder="Enter-Email" required><br>
            <input type="number" name="data[PERSONS]" id="upersons" placeholder="Num of persons" required><br>
            <input type="date" name="data[DATE]" id="udate" required><br>
            <input id="s1" type="submit" value="SUBMIT">
        </div>
    </form>

<script>
// const form = document.getElementById("sheetdb");

// form.addEventListener("submit", async (e) => {
//   e.preventDefault();

//   try {
//     const response = await fetch(form.action, {
//       method: 'POST',
//       body: new FormData(form)
//     });

//     if (!response.ok) {
//       throw new Error("Server returned " + response.status);
//     }

//     alert("Submitted Successfully! Thank you " + document.getElementById('uname').value);
//     form.reset();
//   } 
//   catch (err) {
//     alert("âš  Error submitting data:\n" + err.message);
//     console.log(err);
//   }
// });
    const form = document.getElementById("sheetdb");

form.addEventListener("submit", async (e) => {
  e.preventDefault();

  const response = await fetch(form.action, {
    method: 'POST',
    body: new FormData(form)
  });

  const result = await response.json();
  
  alert("Submitted Successfully! Thank you " + document.getElementById('uname').value);
  form.reset();
});

</script>

</body>
</html>




